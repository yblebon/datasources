<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Healthy Meal Planner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f4f4f4;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .input-container {
            text-align: center;
            margin-bottom: 20px;
        }
        input[type="number"] {
            padding: 10px;
            font-size: 16px;
            width: 200px;
            margin-right: 10px;
        }
        input[type="checkbox"] {
            margin: 10px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #28a745;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #218838;
        }
        #mealPlan {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .day {
            margin-bottom: 20px;
        }
        .day h3 {
            color: #007bff;
        }
        .error {
            color: red;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Weekly Healthy Meal Planner</h1>
    <div class="input-container">
        <input type="number" id="budget" placeholder="Enter your budget ($)" min="0" step="0.01">
        <label><input type="checkbox" id="noCook"> No-Cook Meals Only</label>
        <button onclick="generateMealPlan()">Plan My Meals</button>
    </div>
    <div id="mealPlan"></div>

    <script>
        // Food items with approximate prices per serving (in USD)
        const foodItems = [
            // All foods (including those requiring cooking)
            { name: "Oatmeal", price: 0.30, type: "breakfast", requiresCooking: true },
            { name: "Banana", price: 0.20, type: "breakfast", requiresCooking: false },
            { name: "Greek Yogurt", price: 0.80, type: "breakfast", requiresCooking: false },
            { name: "Brown Rice", price: 0.25, type: "lunch/dinner", requiresCooking: true },
            { name: "Black Beans (canned)", price: 0.40, type: "lunch/dinner", requiresCooking: false },
            { name: "Chicken Breast", price: 1.00, type: "lunch/dinner", requiresCooking: true },
            { name: "Broccoli", price: 0.50, type: "lunch/dinner", requiresCooking: true },
            { name: "Carrots (baby carrots)", price: 0.30, type: "lunch/dinner", requiresCooking: false },
            { name: "Apple", price: 0.25, type: "snack", requiresCooking: false },
            { name: "Almonds (small serving)", price: 0.50, type: "snack", requiresCooking: false },
            // Additional no-cook items
            { name: "Hummus (with veggies)", price: 0.60, type: "lunch/dinner", requiresCooking: false },
            { name: "Pre-cooked Tuna (canned)", price: 0.70, type: "lunch/dinner", requiresCooking: false },
            { name: "Whole Wheat Bread", price: 0.20, type: "lunch/dinner", requiresCooking: false },
            { name: "Peanut Butter", price: 0.30, type: "breakfast", requiresCooking: false }
        ];

        function generateMealPlan() {
            const budgetInput = document.getElementById("budget").value;
            const noCook = document.getElementById("noCook").checked;
            const weeklyBudget = parseFloat(budgetInput);
            const mealPlanDiv = document.getElementById("mealPlan");
            mealPlanDiv.innerHTML = "";

            if (isNaN(weeklyBudget) || weeklyBudget <= 0) {
                mealPlanDiv.innerHTML = '<p class="error">Please enter a valid budget amount.</p>';
                return;
            }

            const dailyBudget = weeklyBudget / 7;
            const mealsPerDay = 3; // Breakfast, Lunch, Dinner
            const budgetPerMeal = dailyBudget / mealsPerDay;

            if (budgetPerMeal < 0.60) {
                mealPlanDiv.innerHTML = '<p class="error">Budget is too low to plan healthy meals. Please increase your budget.</p>';
                return;
            }

            const days = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];
            let output = "";

            days.forEach(day => {
                let dailyCost = 0;
                let dailyMeals = `<div class="day"><h3>${day}</h3>`;

                // Breakfast
                let breakfast = selectMeal("breakfast", budgetPerMeal, noCook);
                dailyCost += breakfast.cost;
                dailyMeals += `<p><strong>Breakfast:</strong> ${breakfast.items.join(", ")} ($${breakfast.cost.toFixed(2)})</p>`;

                // Lunch
                let lunch = selectMeal("lunch/dinner", budgetPerMeal, noCook);
                dailyCost += lunch.cost;
                dailyMeals += `<p><strong>Lunch:</strong> ${lunch.items.join(", ")} ($${lunch.cost.toFixed(2)})</p>`;

                // Dinner
                let dinner = selectMeal("lunch/dinner", budgetPerMeal, noCook);
                dailyCost += dinner.cost;
                dailyMeals += `<p><strong>Dinner:</strong> ${dinner.items.join(", ")} ($${dinner.cost.toFixed(2)})</p>`;

                // Snack (if budget allows)
                let snack = selectMeal("snack", budgetPerMeal / 2, noCook);
                if (snack.items.length > 0 && (dailyCost + snack.cost) <= dailyBudget) {
                    dailyCost += snack.cost;
                    dailyMeals += `<p><strong>Snack:</strong> ${snack.items.join(", ")} ($${snack.cost.toFixed(2)})</p>`;
                }

                dailyMeals += `<p><strong>Total Daily Cost:</strong> $${dailyCost.toFixed(2)}</p></div>`;
                output += dailyMeals;
            });

            mealPlanDiv.innerHTML = output;
        }

        function selectMeal(type, budget, noCook) {
            let availableItems = foodItems.filter(item => item.type === type && (!noCook || !item.requiresCooking));
            let selectedItems = [];
            let totalCost = 0;

            // Shuffle items to add variety
            availableItems = availableItems.sort(() => Math.random() - 0.5);

            for (let item of availableItems) {
                if (totalCost + item.price <= budget) {
                    selectedItems.push(item.name);
                    totalCost += item.price;
                }
            }

            return { items: selectedItems, cost: totalCost };
        }
    </script>
</body>
</html>
